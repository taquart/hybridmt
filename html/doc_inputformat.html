
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Input focimt cell array formats</title><meta name="generator" content="MATLAB 8.6"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2016-09-22"><meta name="DC.source" content="doc_inputformat.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>Input focimt cell array formats</h1><!--introduction--><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#2">Structure of input cell array in RAW format</a></li><li><a href="#20">Structure of input cell array in 1D velocity model format</a></li></ul></div><p>The input cell array format is used across the whole package to provide all input data necessary for the seismic moment tensor inversion or seismic moment tensor refinement procedure. The input cell array is typically generated internally by <tt><a href="doc_focimt.html">focimt.m</a></tt> by calling either <tt><a href="doc_readraw.html">readraw.m</a></tt> or <tt><a href="doc_readvel1d.html">readvel1d.m</a></tt>. These routines read input ASCII file (see <tt>/examples</tt> directory) in <a href="doc_focimtformats.html">RAW or 1D velocity model formats</a>, determine its format and create the input cell array. The cell array is then used in the seismic moment tensor inversion or moment tensor refinement.</p><h2>Structure of input cell array in RAW format<a name="2"></a></h2><p>Input cell array contains a limited number of elements which are structure arrays. Each element of the cell array correspond to a single seismic event and describes the input data necessary for the seismic moment tensor inversion.</p><p>To see the structure of the input cell array in RAW format we can try to read sample input ASCII file in RAW format:</p><pre class="codeinput">Input = readraw(<span class="string">'./examples/example2_raw.txt'</span>);
</pre><p>The only input parameter of <tt><a href="doc_readraw.html">readraw.m</a></tt> routine corresponds to the path to ASCII input file in RAW format. Typing down:</p><pre class="codeinput">Input
</pre><pre class="codeoutput">
Input = 

    [1x1 struct]    [1x1 struct]

</pre><p>we see that the input cell array contains two elements. Each element of the <tt>Input</tt> cell array correspond to complete input data from a single earthquake. To see the input data for the first earthquake we may wish to type the following:</p><pre class="codeinput">Input{1}
</pre><pre class="codeoutput">
ans = 

      event_id: '344_014_+165'
      n_phases: 25
        format: 'raw'
    matrixmode: 1
       Station: {25x1 cell}
     Component: {25x1 cell}
         Phase: {25x1 cell}
         OMEGA: [25x1 double]
       AZIMUTH: [25x1 double]
           AOI: [25x1 double]
       TAKEOFF: [25x1 double]
             V: [25x1 double]
             R: [25x1 double]
       DENSITY: [25x1 double]

</pre><p>The meaning of the fields in the structure array describing a single seismic event is as follows:</p><p><b>event_id</b> (<tt>string</tt>)</p><p>Event id string. This parameter contains a <b>UNIQUE</b> alphanumeric string to identify the seismic event. As the string may be used (depending on parameters passed to <tt><a href="doc_hybridmt.html">hybridmt.m</a></tt> or <tt><a href="doc_focimt.html">focimt.m</a></tt> routines) to create a directory where event-specific results will be stored, it is necessary to only use characters that can be used to create files/directories under specific file system.</p><p><b>n_phases</b> (<tt>integer</tt>)</p><p>Number of phases (phase lines) following the header line.</p><p><b>format</b> (string <tt>'raw'</tt> | <tt>'vel1d'</tt>)</p><p>String containing information about the input file format.</p><p><b>matrixmode</b> (<tt>integer</tt>)</p><p>Determines whether the phase data in the input cell array is stored either as matrices and cell arrays of strings or single structure array containing multiple fields. This is internal parameter used in <tt><a href="doc_focimt.html">focimt.m</a></tt> routine.</p><p><b>e_northing</b>, <b>e_easting</b>, <b>e_z</b> (<tt>floating point</tt>)</p><p>Coordinates of seismic event in the local Cartesian coordinate system used. The northing coordinate is positive towards north, the easting coordinate is positive towards east and finally the depth coordinate is positive towards up (away from the Earth center). The values must be provided in meters.</p><p><b>density</b></p><p>Rock density in [kg/m^3] in the source area. The value is used for calculating the seismic moment from recorded ground displacement amplitudes.</p><p>The following fields contains input data read and they are described in <a href="doc_focimtformats.html">fociMT input file formats</a> page.</p><h2>Structure of input cell array in 1D velocity model format<a name="20"></a></h2><p>The structure of <tt>fociMT</tt> input cell array in <a href="doc_focimtformats.html">1D velocity model format</a> is very similar to the RAW format. As an example, calling:</p><pre class="codeinput">Input = readvel1d(<span class="string">'./examples/example2_1d.txt'</span>);
</pre><p>Resulting in loading of ASCII file into <tt>Input</tt> cell array:</p><pre class="codeinput">Input
</pre><pre class="codeoutput">
Input = 

    [1x1 struct]    [1x1 struct]

</pre><p>Similarly to <a href="doc_readraw.html">readraw.m</a> routine, the input data for a single earthquake are accessible by indexing operator:</p><pre class="codeinput">Input{1}
</pre><pre class="codeoutput">
ans = 

      event_id: '344_014_+165'
        format: 'vel1d'
      n_phases: 25
    e_northing: 0
     e_easting: 0
           e_z: -1500
       density: 2700
    matrixmode: 1
       Station: {25x1 cell}
     Component: {25x1 cell}
         Phase: {25x1 cell}
         OMEGA: [25x1 double]
    S_NORTHING: [25x1 double]
     S_EASTING: [25x1 double]
           S_Z: [25x1 double]

</pre><p>The meaning of the fields in the structure array is as follows:</p><p><b>event_id</b> (<tt>character array</tt>)</p><p>Event id string. This parameter contains a <b>UNIQUE</b> alphanumeric string to identify the seismic event. As the string may be used (depending on parameters passed to <tt>hybridmt</tt> or <tt>focimt</tt> programs) to create a directory where event-specific results will be stored, it is necessary to only use characters that can be used to create files/directories under specific file system.</p><p><b>n_phases</b> (<tt>integer</tt>)</p><p>Number of phases (phase lines) following.</p><p><b>format</b> (<tt>'raw'</tt> | <tt>'vel1d'</tt>)</p><p>String containing information about the input file format.</p><p><b>matrixmode</b> (<tt>integer</tt>)</p><p>Determines whether phase data in the input cell array is stored either as matrices and cell arrays of strings or single structure array containing multiple fields.</p><p>The following fields contains input data read and they are described in <a href="doc_focimtformats.html">fociMT input file formats</a> page.</p><p class="footer"><br><a href="http://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2015b</a><br></p></div><!--
##### SOURCE BEGIN #####
%% Input focimt cell array formats
%%
% The input cell array format is used across the whole package to 
% provide all input data necessary for the seismic moment tensor inversion or
% seismic moment tensor refinement procedure. The input cell array is
% typically generated internally by |<doc_focimt.html focimt.m>| by calling 
% either |<doc_readraw.html readraw.m>| or |<doc_readvel1d.html readvel1d.m>|. 
% These routines read input ASCII file (see |/examples| directory) 
% in <doc_focimtformats.html RAW or 1D velocity 
% model formats>, determine its format and create the input cell array. The 
% cell array is then used in the seismic moment tensor inversion or 
% moment tensor refinement.
%% Structure of input cell array in RAW format
% Input cell array contains a limited number of elements which 
% are structure arrays. Each element of the cell array correspond to a 
% single seismic event and describes the input data necessary for the 
% seismic moment tensor inversion.
%%
% To see the structure of the input cell array in RAW format we can try to 
% read sample input ASCII file in RAW format:
Input = readraw('./examples/example2_raw.txt');
%% 
% The only input parameter of |<doc_readraw.html readraw.m>| 
% routine corresponds to the path to ASCII input file in RAW format. Typing 
% down:
Input
%%
% we see that the input cell array contains two elements. Each element of
% the |Input| cell array correspond to complete input data from a single 
% earthquake. To see the input data for the first earthquake we may wish 
% to type the following:
Input{1}
%%
% The meaning of the fields in the structure array describing a single seismic
% event is as follows:
%%
% *event_id* (|string|)
%%
% Event id string. This parameter contains a *UNIQUE* alphanumeric string to identify
% the seismic event. As the string may be used (depending on parameters passed
% to |<doc_hybridmt.html hybridmt.m>| or |<doc_focimt.html focimt.m>| routines) 
% to create a directory where
% event-specific results will be stored, it is necessary to only use 
% characters that can be used to create files/directories under specific
% file system. 
%%
% *n_phases* (|integer|)
%%
% Number of phases (phase lines) following the header line. 
%%
% *format* (string |'raw'| | |'vel1d'|)
%%
% String containing information about the input file format.
%%
% *matrixmode* (|integer|)
%%
% Determines whether the phase data 
% in the input cell array is stored either 
% as matrices and cell arrays of strings or single structure array
% containing multiple fields. This is internal parameter used in |<doc_focimt.html focimt.m>|
% routine.
%%
% *e_northing*, *e_easting*, *e_z* (|floating point|)
%%
% Coordinates of seismic event in the local Cartesian coordinate system used. The
% northing coordinate is positive towards north, the easting coordinate is positive
% towards east and finally the depth coordinate is positive towards up (away
% from the Earth center). The values must be provided in meters.
%%
% *density*
%% 
% Rock density in [kg/m^3] in the source area. The value is used for calculating
% the seismic moment from recorded ground displacement amplitudes.
%%
% The following fields contains input data read and they are described in 
% <doc_focimtformats.html fociMT input file formats> page.
%% Structure of input cell array in 1D velocity model format
% The structure of |fociMT| input cell array in <doc_focimtformats.html 1D velocity model format> is very
% similar to the RAW format. As an example, calling:
Input = readvel1d('./examples/example2_1d.txt');
%%
% Resulting in loading of ASCII file into |Input| cell array:
Input
%%
% Similarly to <doc_readraw.html readraw.m> routine, the input data for a 
% single earthquake are accessible by indexing operator:
Input{1}
%%
% The meaning of the fields in the structure array is as follows:
%%
% *event_id* (|character array|)
%%
% Event id string. This parameter contains a *UNIQUE* alphanumeric string to identify
% the seismic event. As the string may be used (depending on parameters passed
% to |hybridmt| or |focimt| programs) to create a directory where
% event-specific results will be stored, it is necessary to only use 
% characters that can be used to create files/directories under specific
% file system. 
%%
% *n_phases* (|integer|)
%%
% Number of phases (phase lines) following.
%%
% *format* (|'raw'| | |'vel1d'|)
%%
% String containing information about the input file format.
%%
% *matrixmode* (|integer|)
%%
% Determines whether phase data in the input cell array is stored either 
% as matrices and cell arrays of strings or single structure array
% containing multiple fields. 
%%
% The following fields contains input data read and they are described in 
% <doc_focimtformats.html fociMT
% input file formats> page.



##### SOURCE END #####
--></body></html>