
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>getsolution</title><meta name="generator" content="MATLAB 8.4"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2015-11-10"><meta name="DC.source" content="doc_getsolution.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>getsolution</h1><!--introduction--><p>Extract parameter(s) from moment tensor solution output cell array</p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Syntax</a></li><li><a href="#2">Description</a></li><li><a href="#3">Examples</a></li><li><a href="#13">See also</a></li></ul></div><h2>Syntax<a name="1"></a></h2><pre class="language-matlab">[parameter_value1, ..] = getsolution(Solution, solutiontype, parameter_name1, <span class="keyword">...</span><span class="comment">)</span>
</pre><h2>Description<a name="2"></a></h2><p>Use <tt>getsolution</tt> to extract seismic moment tensor solution results from multiple seismic events at once.</p><h2>Examples<a name="3"></a></h2><p>Perform moment tensor inversion for 90 events using the sample data located in /examples directory:</p><pre class="codeinput">Solution = focimt(<span class="string">'./examples/example3.txt'</span>);
</pre><p>The resulting <tt>Solution</tt> cell array contains 90 elements corresponding to 90 earthquake moment tensors calculated. Now, to access the results of a particular moment tensor inversion we have to use indexing operator, e.g.:</p><pre class="codeinput">Solution{5}.full
</pre><pre class="codeoutput">
ans = 

          Type: {'N'}
    STATION_ID: 0
           ISO: -41.123
          CLVD: -31.527
            DC: 27.35
            M0: 5.6378e+14
            MT: 7.3059e+14
      M0ERRMAX: 2.4521e+13
            MW: 3.8041
             P: [329.94 58.774]
             T: [154.38 31.15]
             B: [63.19 1.9677]
            F1: [62.706 76.178 -92.026]
            F2: [251.13 13.967 -81.821]
         Fault: {'NF'}
           MXX: [1x6 double]
           CXX: [1x6 double]
      RMSERROR: 0.33807
       Station: {1x14 cell}
     UMEASURED: [1x14 double]
           UTH: [1x14 double]

</pre><p>provide us with results of FULL moment tensor inversion for the 5th seismic event.</p><p>Consider a scenario when the user wants to extract values of isotropic component from full moment tensor for all events in bulk. This can be easily achieved by using the <tt>getsolution function</tt>:</p><pre class="codeinput">ISO = getsolution(Solution,<span class="string">'full'</span>,<span class="string">'ISO'</span>);
</pre><p>This will result in a vector composed of 90 elements where each element corresponds to the amount of ISOTROPIC component from all 90 earthquakes for which the full seismic moment tensor was calculated. This can be used for plotting the statistics of various parameters for the inverted dataset, e.g.:</p><pre class="codeinput">hist(ISO)
<span class="comment">% display the distribution of isotropic components in the analyzed dataset.</span>
</pre><img vspace="5" hspace="5" src="doc_getsolution_01.png" alt=""> <p>More parameters can be extracted in at once. For example, to extract moment magnitude and orientation of P axes for DEVIATORIC moment tensor solutions, the following code may be executed:</p><pre class="codeinput">[MW,P] = getsolution(Solution,<span class="string">'deviatoric'</span>,<span class="string">'MW'</span>,<span class="string">'P'</span>);
</pre><p>It is important to note that the order of input parameters ('MW','P' in the example above determines the order of output parameters localted on the left side of the formula. Also, the names of input parameters to extract must correspond to the names of variables in the structure array.</p><p>The function may be also used to extract general output data outside of 'full', 'deviatoric', and 'dc' structures inside of each cell array element. For example, the general data contains the ID number of events:</p><pre class="codeinput">Solution{1}
</pre><pre class="codeoutput">
ans = 

          event_id: '004-03781'
          n_trials: 1
    calculation_dt: 7.3628e+05
              full: [1x1 struct]
        deviatoric: [1x1 struct]
                dc: [1x1 struct]

</pre><p>To extract all ID numbers, the following code may be used:</p><pre class="codeinput">ids = getsolution(Solution,<span class="string">'deviatoric'</span>,<span class="string">'event_id'</span>);
</pre><p>In this case, the second parameter (<tt>'deviatoric'</tt>) is of no used, but still it must be set up to either 'full', 'deviatoric', or 'dc'.</p><h2>See also<a name="13"></a></h2><p><tt><a href="doc_focimt.html">focimt</a></tt> | <tt><a href="doc_hybridmt.html">hybridmt</a></tt></p><p class="footer"><br><a href="http://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2014b</a><br></p></div><!--
##### SOURCE BEGIN #####
%% getsolution
% Extract parameter(s) from moment tensor solution output cell array
%% Syntax
%   [parameter_value1, ..] = getsolution(Solution, solutiontype, parameter_name1, ...)
%% Description
% Use |getsolution| to extract seismic moment tensor solution results from 
% multiple seismic events at once. 
%% Examples
% Perform moment tensor inversion for 90 events using the sample data located in
% /examples directory:
Solution = focimt('./examples/example3.txt');
%%
% The resulting |Solution| cell array contains 90 elements corresponding to 90
% earthquake moment tensors calculated. Now, to access the results of a
% particular moment tensor inversion we have to use indexing operator, e.g.:
Solution{5}.full
%%
% provide us with results of FULL moment tensor inversion for the 5th seismic
% event. 
%%
% Consider a scenario when the user wants to extract values of isotropic
% component from full moment tensor for all events in bulk. This can be easily
% achieved by using the |getsolution function|:
ISO = getsolution(Solution,'full','ISO');
%%
% This will result in a vector composed of 90 elements where each element
% corresponds to the amount of ISOTROPIC component from all 90 earthquakes for
% which the full seismic moment tensor was calculated. This can be used for
% plotting the statistics of various parameters for the inverted dataset, e.g.:
hist(ISO) 
% display the distribution of isotropic components in the analyzed dataset.
%%
% More parameters can be extracted in at once. For example, to extract moment
% magnitude and orientation of P axes for DEVIATORIC moment tensor solutions,
% the following code may be executed:
[MW,P] = getsolution(Solution,'deviatoric','MW','P');
%% 
% It is important to note that the order of input parameters ('MW','P' in the 
% example above determines the order of output parameters localted on the left
% side of the formula. Also, the names of input parameters to extract must
% correspond to the names of variables in the structure array.
%%
% The function may be also used to extract general output data outside of
% 'full', 'deviatoric', and 'dc' structures inside of each cell array element.
% For example, the general data contains the ID number of events:
Solution{1}
%%
% To extract all ID numbers, the following code may be used:
ids = getsolution(Solution,'deviatoric','event_id');
%%
% In this case, the second parameter (|'deviatoric'|) is of no used, but still
% it must be set up to either 'full', 'deviatoric', or 'dc'. 
%% See also
% |<doc_focimt.html focimt>| | 
% |<doc_hybridmt.html hybridmt>| 

##### SOURCE END #####
--></body></html>